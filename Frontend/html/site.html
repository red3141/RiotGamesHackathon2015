<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<title>Suggested Champions</title>
	<link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="../css/animate.css">
	<link rel="stylesheet" type="text/css" href="../css/site.css">
	<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
	<script type="text/javascript" src="../js/jquery-1.11.3.js"></script>
	<script type="text/javascript" src="../js/bootstrap.min.js"></script>
</head>
<body>
	<div class="background"></div>
	<div class="head">
		<div class="app-title"><span>L</span>eague <span>C</span>hampion <span>S</span>uggestions</div>

		<div class="menu-bar">
			<a href="site.html" class="option">HOME</a>
			<a href="#" class="option">ABOUT</a>
		</div>
	</div>

	<div id="home-page">

		<div class="internal-body">
			
			<div class="general-title">
				<h1>
					Welcome to league champion suggestions!
				</h1>
				<span>
					Input your summoner name to see recommended champions to try for each role.
				</span>
			</div>

			<div class="form-div">
				<div class="input-holder">
					<input id="summoner-input" type="text" placeholder="Summoner Name">
				</div>
				<button class="custom-btn" onclick="getSuggestions()">GO</button>
				<div class="emptySum-text hidden">Write your summoner name first!</div>
			</div>
		</div>
		
	</div>

	<div id="suggestion-page">
		<div class="internal-body container">

			<div class="general-title">
				<h1>
					Recommended Champions
				</h1>
				<span>
					Based on the champions you already play, we recommend trying the following champions.
				</span>
			</div>

			<div class="row">
				<div class="col-xs-6 col-sm-2 col-sm-offset-1">
					<div class="suggested-champ">
						<div class="role">top</div>
						<div class="top-champ">
							<div class="img-placeholder">
								<div class="img"></div>
							</div>
							<div class="name"></div>
						</div>
					</div>
				</div>
				<div class="col-xs-6 col-sm-2">
					<div class="suggested-champ">
						<div class="role">jungle</div>
						<div class="jgl-champ">
							<div class="img-placeholder">
								<div class="img"></div>
							</div>
							<div class="name"></div>
						</div>
					</div>
				</div>
				<div class="col-xs-6 col-sm-2">
					<div class="suggested-champ">
						<div class="role">mid</div>
						<div class="mid-champ">
							<div class="img-placeholder">
								<div class="img"></div>
							</div>
							<div class="name"></div>
						</div>
					</div>
				</div>
				<div class="col-xs-6 col-sm-2">
					<div class="suggested-champ">
						<div class="role">adc</div>
						<div class="adc-champ">
							<div class="img-placeholder">
								<div class="img"></div>
							</div>
							<div class="name"></div>
						</div>
					</div>
				</div>
				<div class="col-xs-6 col-sm-2 col-xs-offset-3 col-sm-offset-0">
					<div class="suggested-champ">
						<div class="role">support</div>
						<div class="sup-champ">
							<div class="img-placeholder">
								<div class="img"></div>
							</div>
							<div class="name"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div id="error-page">
		<div class="general-title">
			<h1>
				Ups!
			</h1>
			<span>
				We couldn't find your summoner name.
			</span>
		</div>
		<a class="error-link" href="site.html">TRY AGAIN</a>
	</div>
	
	<script type="text/javascript">
	$(document).ready(function(){
		$('#error-page').hide();
		$('#suggestion-page').hide();
		animateHomePage();
	});

	function animateHomePage(){
		$('#home-page').addClass('animated fadeInDown');
	}

	function getSuggestions(){

		if ($('#summoner-input').val() == ""){
			$('.emptySum-text').removeClass('hidden');
		}else{

			$.ajax({
				url: '/suggestions',
				type: 'POST',
				dataType: 'text',
				data: {summonerName: $('#summoner-input').val()}
			})
			.done(function(json) {
				console.log("success");

				var topInfo = json.top;
				var jgInfo = json.jungle;
				var midInfo = json.mid;
				var adcInfo = json.adc;
				var supInfo = json.support;

				$('.top-champ .img-placeholder .img').attr('style', 'background-image: url("'+topInfo[0].url+'")');
				$('.top-champ .name').text(topInfo[0].displayName);

				$('.jgl-champ .img-placeholder .img').attr('style', 'background-image: url("'+jgInfo[0].url+'")');
				$('.jgl-champ .name').text(jgInfo[0].displayName);

				$('.mid-champ .img-placeholder .img').attr('style', 'background-image: url("'+midInfo[0].url+'")');
				$('.mid-champ .name').text(midInfo[0].displayName);

				$('.adc-champ .img-placeholder .img').attr('style', 'background-image: url("'+adcInfo[0].url+'")');
				$('.adc-champ .name').text(adcInfo[0].displayName);

				$('.sup-champ .img-placeholder .img').attr('style', 'background-image: url("'+supInfo[0].url+'")');
				$('.sup-champ .name').text(supInfo[0].displayName);

				$('#home-page').removeClass('animated fadeInDown').addClass('animated fadeOutUp').show(0).delay(1500).hide(0);
				$('#suggestion-page').delay(1500).fadeIn(1000);

				$('#home-page').removeClass('animated fadeInDown').addClass('animated fadeOutUp').show(0).delay(1500).hide(0);
				$('#suggestion-page').delay(1500).fadeIn(1000);
				if($( window ).width() <= 768){
					$('.top-champ').addClass('animated slideInLeft');
					$('.jgl-champ').addClass('animated slideInRight');
					$('.mid-champ').addClass('animated slideInLeft');
					$('.adc-champ').addClass('animated slideInRight');
					$('.sup-champ').addClass('animated slideInUp');
				}else{
					$('.top-champ').addClass('animated slideInUp');
					$('.jgl-champ').addClass('animated slideInDown');
					$('.mid-champ').addClass('animated slideInUp');
					$('.adc-champ').addClass('animated slideInDown');
					$('.sup-champ').addClass('animated slideInUp');
				}
			})
			.fail(function() {
				$('#home-page').removeClass('animated fadeInDown').addClass('animated fadeOutUp').show(0).delay(1500).hide(0);
				$('#error-page').delay(1500).fadeIn(1000);
			});
		}
	}

</script>

</body>
</html>